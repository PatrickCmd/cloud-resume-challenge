---
# Ansible Vault Configuration Example
# This is an example/template file showing the structure of the vault configuration
# Copy this file to config.yml and customize with your values, then encrypt it
#
# To create your vault:
#   1. cp config.example.yml config.yml
#   2. Edit config.yml with your actual values
#   3. ansible-vault encrypt config.yml
#
# DO NOT commit the unencrypted config.yml file to version control!

# AWS Configuration
aws_config:
  region: us-east-1              # AWS region for deployment
  profile: YOUR_AWS_PROFILE      # AWS CLI profile name (e.g., default, patrickcmd)

# CloudFormation Stack Configuration
cloudformation:
  stack_name: YOUR_STACK_NAME    # CloudFormation stack name (e.g., portfolio-frontend-stack)
  template_path: ../frontend.yaml # Path to CloudFormation template (relative to playbook)

# S3 Bucket Configuration
s3_config:
  bucket_name: YOUR_BUCKET_NAME  # S3 bucket name (must be globally unique, should match domain)
  index_document: index.html     # Website index document
  error_document: index.html     # Website error document (use index.html for SPAs)

# Domain and SSL/TLS Configuration
domain_config:
  domain_name: YOUR_DOMAIN        # Primary domain name (e.g., patrickcmd.dev)
  acm_certificate_arn: YOUR_ACM_CERTIFICATE_ARN  # ACM certificate ARN (must be in us-east-1)
  # Example ARN format: arn:aws:acm:us-east-1:123456789012:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# Environment Configuration
deployment:
  environment: prod              # Environment: dev, staging, or prod

# Stack Tags
stack_tags:
  Project: cloud-resume-challenge
  Component: frontend
  ManagedBy: ansible
  Owner: YOUR_NAME

# Cognito Configuration (for setup-cognito.yml playbook)
cognito_config:
  user_pool_name: portfolio-api-user-pool
  user_pool_client_name: portfolio-frontend-client
  owner_email: YOUR_EMAIL@example.com  # Email for the owner account
  owner_name: YOUR_FULL_NAME            # Full name for the owner account
  owner_role: owner                     # Role attribute for owner

  # Email Configuration (optional - requires SES setup)
  use_ses_email: false                  # Set to true to use SES for emails
  ses_from_email: noreply@YOUR_DOMAIN   # SES verified email address
  ses_from_name: YOUR_APP_NAME          # Display name for emails

  # Token Validity (in seconds)
  id_token_validity: 3600               # 1 hour
  access_token_validity: 3600           # 1 hour
  refresh_token_validity: 2592000       # 30 days

  # MFA Configuration
  mfa_configuration: OPTIONAL           # OFF, OPTIONAL, or ON

  # Password Policy
  password_minimum_length: 12
  password_require_uppercase: true
  password_require_lowercase: true
  password_require_numbers: true
  password_require_symbols: true
  password_temporary_validity_days: 7

# Backend API Configuration (for backend-sam-deploy.yml playbook)
backend_config:
  # SAM Configuration
  sam_template_path: "../backend.yaml"
  stack_name: production-portfolio-backend-api  # Stack name for backend API
  sam_s3_bucket: YOUR_SAM_DEPLOYMENT_BUCKET     # S3 bucket for SAM deployment artifacts
  # Example: patrickcmd-dev-sam-deployments
  # Create with: aws s3 mb s3://your-bucket-name --region us-east-1

  # Environment Configuration
  environment: production  # Options: development, staging, production

  # Cognito Configuration (references cognito_config above)
  # Note: User Pool and App Client must be created first via setup-cognito playbook
  cognito_user_pool_id: "us-east-1_XXXXXXXXX"  # Your Cognito User Pool ID
  cognito_client_id: "xxxxxxxxxxxxxxxxxxxxxxxxxx"  # Your Cognito App Client ID
  # Get these values with: ./bin/cognito-show-config

  # Custom Domain Configuration
  custom_domain_name: api.YOUR_DOMAIN  # API subdomain (e.g., api.patrickcmd.dev)
  hosted_zone_id: ZXXXXXXXXXXXXX       # Route53 Hosted Zone ID for YOUR_DOMAIN
  # Get with: aws route53 list-hosted-zones --query "HostedZones[?Name=='YOUR_DOMAIN.'].Id" --output text

  certificate_arn: YOUR_ACM_CERTIFICATE_ARN  # ACM certificate ARN (must be in us-east-1)
  # Example: arn:aws:acm:us-east-1:123456789012:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
  # Create with: aws acm request-certificate --domain-name api.YOUR_DOMAIN --validation-method DNS --region us-east-1

  # CORS Configuration (allowed frontend origins)
  frontend_origins: "https://YOUR_DOMAIN,https://www.YOUR_DOMAIN"
  # Should match domain_config.domain_name above

# Sensitive AWS Credentials (Optional - prefer AWS CLI profiles)
# Only use if not using AWS CLI profiles
# Uncomment and add your credentials if needed
# aws_credentials:
#   access_key_id: YOUR_AWS_ACCESS_KEY_ID
#   secret_access_key: YOUR_AWS_SECRET_ACCESS_KEY
